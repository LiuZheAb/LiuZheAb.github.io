{"version":3,"sources":["components/PageFooter/index.js"],"names":["index","pathSnippets","this","props","location","pathname","split","filter","i","dataSource","recommandData","totalData","length","baseHref","substr","j","push","title","nameMap","setKeyMap","check","num","obj","key","pageNum","Number","prevHref","nextHref","className","style","isNaN","minHeight","position","type","fontSize","cursor","value","window","href","marginLeft","outline","url","to","section","arr","count","temp","shuffled","slice","min","Math","floor","random","getRandomArrayElements","map","item","target","rel","color","Component","withRouter"],"mappings":"qPAUMA,G,8KAOE,IALA,IAEMC,EAFKC,KAAKC,MAAMC,SAASC,SAELC,MAAM,KAAKC,QAAO,SAAAC,GAAC,OAAIA,KAE7CC,EAAa,GAAIC,EAAgB,GAC5BF,EAAI,EAAGA,EAAIG,IAAUC,OAAQJ,IAClC,GAAIP,EAAa,KAAOU,IAAUH,GAAGK,SAASC,OAAO,GAAI,CACrDL,EAAaE,IAAUH,GACvB,IAAK,IAAIO,EAAI,EAAGA,EAAIJ,IAAUC,OAAQG,IAC9BA,IAAMP,GACNE,EAAcM,KAAK,CACfC,MAAON,IAAUI,GAAGE,MACpBJ,SAAUF,IAAUI,GAAGF,WAiB3C,IAAMK,EAAUC,YAAU,CAACV,IAEvBW,EAAQ,SAACC,EAAKC,GACd,IAAK,IAAIC,KAAOD,EACZ,GAAID,GAAOC,EAAIC,GAAK,IAAMF,GAAOC,EAAIC,GAAK,IAAMD,EAAIC,GAAK,KAAOD,EAAIC,GAAK,GAAI,OAAOA,EAAM,gBAG9FC,EAAUC,OAAOxB,EAAa,IAAKY,EAAW,IAAMZ,EAAa,GAAK,IAEtEyB,EAAWb,GAAYW,EAAU,GACjCG,EAAWd,GAAYW,EAAU,GACrC,OACI,yBAAKI,UAAU,cAAcC,MAAQC,MAAMN,GAAoC,GAAzB,CAAEO,UAAW,UAC/D,6BACI,yBAAKH,UAAU,SACX,6BACI,yBAAKA,UAAU,UAAUC,MAAO,CAAEG,SAAU,aACxC,kBAAC,IAAD,CAAUC,KAAK,cAAchB,MAAM,eAAKY,MAAO,CAAEK,SAAU,GAAIC,OAAQ,aACvE,yBAAKP,UAAU,UACX,yBAAKA,UAAU,UACf,yBAAKA,UAAU,SAAf,mDAA+B,kBAAC,IAAD,CAAQQ,MAAOC,OAAOjC,SAASkC,UAGtE,kBAAC,IAAD,CAAkBT,MAAO,CAAEU,WAAY,GAAIC,QAAS,QAAUC,IAAKJ,OAAOjC,SAASkC,KAAMrB,MAAOR,EAAWQ,MAAQ,eAAOC,EAAQhB,KAAKC,MAAMC,SAASC,WAAY,kBAAC,IAAD,CAAU4B,KAAK,aAAahB,MAAM,eAAKY,MAAO,CAAEK,SAAU,QATpO,qIAaEJ,MAAMN,GAoBF,KAnBF,yBAAKI,UAAU,WACX,yBAAKA,UAAU,QACVV,EAAQQ,GACL,kBAAC,IAAD,CAAMgB,GAAIhB,EAAUE,UAAU,SAC1B,yBAAKA,UAAU,SAAf,sBACA,0BAAMA,UAAU,SAASR,EAAMI,EAAU,EAAGf,EAAWkC,SAAUzB,EAAQQ,KAE3E,MAEV,yBAAKE,UAAU,QACVV,EAAQS,GACL,kBAAC,IAAD,CAAMe,GAAIf,EAAUC,UAAU,SAC1B,yBAAKA,UAAU,SAAf,sBACA,0BAAMA,UAAU,SAASR,EAAMI,EAAU,EAAGf,EAAWkC,SAAUzB,EAAQS,KAE3E,OAMlB,yBAAKC,UAAU,SACX,yBAAKA,UAAU,QACX,0BAAMA,UAAU,QAAhB,4BACA,yBAAKA,UAAU,QAAO,kBAAC,IAAD,CAAUK,KAAK,WAAWJ,MAAO,CAAEK,SAAU,OACnE,yBAAKN,UAAU,QAAO,4BAAI,kBAAC,IAAD,CAAMc,GAAIjC,EAAWI,UAAWJ,EAAWQ,UA/DzF,SAAgC2B,EAAKC,GAEjC,IADA,IAA8DC,EAAM9C,EAAhE+C,EAAWH,EAAII,MAAM,GAAIxC,EAAIoC,EAAIhC,OAAQqC,EAAMzC,EAAIqC,EAChDrC,KAAMyC,GAETH,EAAOC,EADP/C,EAAQkD,KAAKC,OAAO3C,EAAI,GAAK0C,KAAKE,WAElCL,EAAS/C,GAAS+C,EAASvC,GAC3BuC,EAASvC,GAAKsC,EAElB,OAAOC,EAASC,MAAMC,GAyDTI,CAAuB3C,EAAe,GAAG4C,KAAI,SAACC,EAAMvD,GACjD,OACI,yBAAK4B,UAAU,OAAOL,IAAKvB,GACvB,0BAAM4B,UAAU,QAAhB,4BACA,yBAAKA,UAAU,QAAO,kBAAC,IAAD,CAAUK,KAAK,WAAWJ,MAAO,CAAEK,SAAU,OACnE,yBAAKN,UAAU,QAAO,4BAAI,kBAAC,IAAD,CAAMc,GAAIa,EAAK1C,UAAW0C,EAAKtC,eAM7E,yBAAKW,UAAU,WACX,yBAAKA,UAAU,cACX,gEACA,uBAAG4B,OAAO,SAASC,IAAI,sBAAsBnB,KAAK,gDAAgDrB,MAAM,kCAAQ,kBAAC,IAAD,CAAUgB,KAAK,aAC/H,uBAAGuB,OAAO,SAAS3B,MAAO,CAAEK,SAAU,GAAIwB,MAAO,QAAUD,IAAI,sBAAsBnB,KAAK,+BAA+BrB,MAAM,UAAS,kBAAC,IAAD,CAAUgB,KAAK,gBACvJ,uBAAGuB,OAAO,SAASC,IAAI,sBAAsBnB,KAAK,iCAAiCrB,MAAM,gBAAK,kBAAC,IAAD,CAAUgB,KAAK,wBAEjH,yBAAKL,UAAU,UACX,yBAAKA,UAAU,kBACX,oDAA2B,uBAAG4B,OAAO,SAASC,IAAI,sBAAsBnB,KAAK,+BAA+BrB,MAAM,UAAvF,YAA3B,a,GA1GR0C,cAmHLC,sBAAW5D","file":"static/js/56.bf0d8aa7.chunk.js","sourcesContent":["//文档底部footer\r\nimport React, { Component } from 'react';\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport IconFont from \"../IconFont\";\r\nimport { WeiboShareButton } from \"react-share\";\r\nimport QRCode from \"qrcode.react\";\r\nimport setKeyMap from \"../../utils/keymap\";\r\nimport { totalData } from \"../../assets/data\";\r\nimport \"./index.less\";\r\n\r\nclass index extends Component {\r\n    render() {\r\n        let path = this.props.location.pathname;\r\n        //将path以\"/\"分割,并保存到数组中\r\n        const pathSnippets = path.split('/').filter(i => i);\r\n        //获取当前文档\r\n        let dataSource = [], recommandData = [];\r\n        for (let i = 0; i < totalData.length; i++) {\r\n            if (pathSnippets[0] === totalData[i].baseHref.substr(1)) {\r\n                dataSource = totalData[i];\r\n                for (let j = 0; j < totalData.length; j++) {\r\n                    if (j !== i) {\r\n                        recommandData.push({\r\n                            title: totalData[j].title,\r\n                            baseHref: totalData[j].baseHref,\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        //获取数组中count个随机值\r\n        function getRandomArrayElements(arr, count) {\r\n            var shuffled = arr.slice(0), i = arr.length, min = i - count, temp, index;\r\n            while (i-- > min) {\r\n                index = Math.floor((i + 1) * Math.random());\r\n                temp = shuffled[index];\r\n                shuffled[index] = shuffled[i];\r\n                shuffled[i] = temp;\r\n            }\r\n            return shuffled.slice(min);\r\n        }\r\n        const nameMap = setKeyMap([dataSource]);\r\n        //查找当前文档所处section\r\n        let check = (num, obj) => {\r\n            for (let key in obj) {\r\n                if (num >= obj[key][0] && num <= obj[key][1] && obj[key][0] !== obj[key][1]) return key + \"——\";\r\n            }\r\n        }\r\n        let pageNum = Number(pathSnippets[1]), baseHref = \"/\" + pathSnippets[0] + \"/\";\r\n        //上一页/下一页路由\r\n        let prevHref = baseHref + (pageNum - 1);\r\n        let nextHref = baseHref + (pageNum + 1);\r\n        return (\r\n            <div className=\"page-footer\" style={!isNaN(pageNum) ? { minHeight: \"100vh\" } : {}}>\r\n                <div>\r\n                    <div className=\"share\">\r\n                        <div>\r\n                            <div className=\"wx-icon\" style={{ position: \"relative\" }}>\r\n                                <IconFont type=\"iconweixin1\" title=\"微信\" style={{ fontSize: 32, cursor: \"pointer\" }} />\r\n                                <div className=\"qrcode\" >\r\n                                    <div className=\"arrow\"></div>\r\n                                    <div className=\"inner\">微信扫码阅读文档<QRCode value={window.location.href} /></div>\r\n                                </div>\r\n                            </div>\r\n                            <WeiboShareButton style={{ marginLeft: 24, outline: \"none\" }} url={window.location.href} title={dataSource.title + \"——\" + nameMap[this.props.location.pathname]} ><IconFont type=\"iconweibo1\" title=\"微博\" style={{ fontSize: 32 }} /></WeiboShareButton>\r\n                        </div>\r\n                    如果觉得这篇文章有帮助的话,就分享一下吧,谢谢~\r\n                </div>\r\n                    {!isNaN(pageNum) ?\r\n                        <div className=\"content\">\r\n                            <div className=\"prev\">\r\n                                {nameMap[prevHref] ?\r\n                                    <Link to={prevHref} className=\"pager\">\r\n                                        <div className=\"label\">上一篇</div>\r\n                                        <span className=\"title\">{check(pageNum - 1, dataSource.section)}{nameMap[prevHref]}</span>\r\n                                    </Link>\r\n                                    : null}\r\n                            </div>\r\n                            <div className=\"next\">\r\n                                {nameMap[nextHref] ?\r\n                                    <Link to={nextHref} className=\"pager\">\r\n                                        <div className=\"label\">下一篇</div>\r\n                                        <span className=\"title\">{check(pageNum + 1, dataSource.section)}{nameMap[nextHref]}</span>\r\n                                    </Link>\r\n                                    : null}\r\n                            </div>\r\n\r\n                        </div>\r\n                        : null\r\n                    }\r\n                    <div className=\"books\">\r\n                        <div className=\"book\">\r\n                            <span className=\"from\">本文来自</span>\r\n                            <div className=\"icon\"><IconFont type=\"iconbook\" style={{ fontSize: 40 }} /></div>\r\n                            <div className=\"name\"><h4><Link to={dataSource.baseHref}>{dataSource.title}</Link></h4></div>\r\n                        </div>\r\n                        {getRandomArrayElements(recommandData, 2).map((item, index) => {\r\n                            return (\r\n                                <div className=\"book\" key={index}>\r\n                                    <span className=\"from\">精品推荐</span>\r\n                                    <div className=\"icon\"><IconFont type=\"iconbook\" style={{ fontSize: 40 }} /></div>\r\n                                    <div className=\"name\"><h4><Link to={item.baseHref}>{item.title}</Link></h4></div>\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </div>\r\n                <div className=\"connect\">\r\n                    <div className=\"othersites\">\r\n                        <span>我的站点：</span>\r\n                        <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://music.163.com/#/playlist?id=117824494\" title=\"网易云音乐\"><IconFont type=\"iconwyy\" /></a>\r\n                        <a target=\"_blank\" style={{ fontSize: 34, color: \"#000\" }} rel=\"noopener noreferrer\" href=\"https://github.com/LiuZheAb/\" title=\"Github\"><IconFont type=\"icongithub\" /></a>\r\n                        <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.yuque.com/liuzheab\" title=\"语雀\"><IconFont type=\"iconyuquemianlogo\" /></a>\r\n                    </div>\r\n                    <div className=\"author\">\r\n                        <div className=\"author-content\">\r\n                            <span>&copy; 2020 Deved By <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/LiuZheAb/\" title=\"Github\">LiuZheAb</a> </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(index);"],"sourceRoot":""}