{"version":3,"sources":["components/PageFooter/index.js"],"names":["index","dataSource","recommandData","pathSnippets","this","props","location","pathname","split","filter","i","myblogData","title","baseHref","gojsData","codeReview","nameMap","setKeyMap","check","num","obj","key","pageNum","Number","prevHref","nextHref","className","style","position","type","value","window","href","url","fontSize","isNaN","to","section","arr","count","temp","shuffled","slice","length","min","Math","floor","random","getRandomArrayElements","map","item","target","rel","color","Component","withRouter"],"mappings":"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","file":"static/js/57.8395b23c.chunk.js","sourcesContent":["//文档底部footer\r\nimport React, { Component } from 'react'\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport IconFont from \"../IconFont\";\r\nimport { WeiboShareButton } from \"react-share\";\r\nimport QRCode from \"qrcode.react\";\r\nimport setKeyMap from \"../../utils/keymap\";\r\nimport { myblogData, gojsData, codeReview } from \"../../assets/data\"\r\nimport \"./index.less\";\r\n\r\nclass index extends Component {\r\n    render() {\r\n        let path = this.props.location.pathname;\r\n        //将path以\"/\"分割,并保存到数组中\r\n        const pathSnippets = path.split('/').filter(i => i);\r\n        let dataSource, recommandData;\r\n        switch (pathSnippets[0]) {\r\n            case \"myblog\":\r\n                dataSource = myblogData;\r\n                recommandData = [{\r\n                    title: \"GoJS 教程\",\r\n                    baseHref: \"/gojs\",\r\n                }, {\r\n                    title: \"Code Review\",\r\n                    baseHref: \"/codereview\",\r\n                }];\r\n                break;\r\n            case \"gojs\":\r\n                dataSource = gojsData;\r\n                recommandData = [{\r\n                    title: \"本站介绍\",\r\n                    baseHref: \"/myblog\",\r\n                }, {\r\n                    title: \"Code Review\",\r\n                    baseHref: \"/codereview\",\r\n                }];\r\n                break;\r\n            case \"codereview\":\r\n                dataSource = codeReview;\r\n                recommandData = [{\r\n                    title: \"本站介绍\",\r\n                    baseHref: \"/myblog\",\r\n                }, {\r\n                    title: \"GoJS 教程\",\r\n                    baseHref: \"/gojs\",\r\n                }];\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        //获取数组中count个随机值\r\n        function getRandomArrayElements(arr, count) {\r\n            var shuffled = arr.slice(0), i = arr.length, min = i - count, temp, index;\r\n            while (i-- > min) {\r\n                index = Math.floor((i + 1) * Math.random());\r\n                temp = shuffled[index];\r\n                shuffled[index] = shuffled[i];\r\n                shuffled[i] = temp;\r\n            }\r\n            return shuffled.slice(min);\r\n        }\r\n        const nameMap = setKeyMap([dataSource]);\r\n        //查找当前文档所处section\r\n        let check = (num, obj) => {\r\n            for (let key in obj) {\r\n                if (num >= obj[key][0] && num <= obj[key][1] && obj[key][0] !== obj[key][1]) return key + \"——\";\r\n            }\r\n        }\r\n\r\n        let pageNum = Number(pathSnippets[1]), baseHref = \"/\" + pathSnippets[0] + \"/\";\r\n        //上一页/下一页路由\r\n        let prevHref = baseHref + (pageNum - 1);\r\n        let nextHref = baseHref + (pageNum + 1);\r\n        return (\r\n            <div className=\"page-footer\">\r\n                <div className=\"share\">\r\n                    <div>\r\n                        <div className=\"wx-icon\" style={{ position: \"relative\" }}>\r\n                            <IconFont type=\"iconweixin\" />\r\n                            <div className=\"qrcode\" >\r\n                                <div className=\"arrow\"></div>\r\n                                <div className=\"inner\">微信扫码阅读文档<QRCode value={window.location.href} /></div>\r\n                            </div>\r\n                        </div>\r\n                        <WeiboShareButton url={window.location.href} title={dataSource.title + \"——\" + nameMap[this.props.location.pathname]} ><IconFont type=\"iconweibo\" style={{ fontSize: \"40px\" }} /></WeiboShareButton>\r\n                    </div>\r\n                    如果觉得这篇文章有帮助的话,就分享一下吧,谢谢~\r\n                </div>\r\n                {!isNaN(pageNum) ?\r\n                    <div className=\"content\">\r\n                        <div className=\"prev\">\r\n                            {nameMap[prevHref] ?\r\n                                <Link to={prevHref} className=\"pager\">\r\n                                    <div className=\"label\">上一篇</div>\r\n                                    <span className=\"title\">{check(pageNum - 1, dataSource.section)}{nameMap[prevHref]}</span>\r\n                                </Link>\r\n                                : null}\r\n                        </div>\r\n                        <div className=\"next\">\r\n                            {nameMap[nextHref] ?\r\n                                <Link to={nextHref} className=\"pager\">\r\n                                    <div className=\"label\">下一篇</div>\r\n                                    <span className=\"title\">{check(pageNum + 1, dataSource.section)}{nameMap[nextHref]}</span>\r\n                                </Link>\r\n                                : null}\r\n                        </div>\r\n\r\n                    </div>\r\n                    : null\r\n                }\r\n                <div className=\"connect\">\r\n                    <div className=\"book\">\r\n                        <span className=\"from\">本文来自</span>\r\n                        <div className=\"icon\"><IconFont type=\"iconbook\" style={{ fontSize: \"40px\" }} /></div>\r\n                        <div className=\"name\"><h4><Link to={dataSource.baseHref}>{dataSource.title}</Link></h4></div>\r\n                    </div>\r\n                    {getRandomArrayElements(recommandData, 2).map((item, index) => {\r\n                        return (\r\n                            <div className=\"book\" key={index}>\r\n                                <span className=\"from\">精品推荐</span>\r\n                                <div className=\"icon\"><IconFont type=\"iconbook\" style={{ fontSize: \"40px\" }} /></div>\r\n                                <div className=\"name\"><h4><Link to={item.baseHref}>{item.title}</Link></h4></div>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                    <div className=\"othersites\">\r\n                        <span>我的站点：</span>\r\n                        <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://music.163.com/#/playlist?id=117824494\" title=\"网易云音乐\"><IconFont type=\"iconwyy\" /></a>\r\n                        <a target=\"_blank\" style={{ fontSize: \"34px\", color: \"#000\" }} rel=\"noopener noreferrer\" href=\"https://github.com/LiuZheAb/\" title=\"Github\"><IconFont type=\"icongithub\" /></a>\r\n                        <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.yuque.com/liuzheab\" title=\"语雀\"><IconFont type=\"iconyuquemianlogo\" /></a>\r\n                    </div>\r\n                    <div className=\"author\">\r\n                        <div className=\"author-content\">\r\n                            <span>&copy; 2020 Deved By <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/LiuZheAb/\" title=\"Github\">LiuZheAb</a> </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(index);"],"sourceRoot":""}