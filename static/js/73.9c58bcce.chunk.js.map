{"version":3,"sources":["assets/images/freecodecamp.png","assets/images/1585126990498-9287a82e-b7bd-4a6c-85e0-8805577ef2ce.png","assets/images/1585146074836-5d244c42-8534-4c61-8bc9-be81702110b7.png","assets/images/1585146820036-10d71ce5-2edd-4573-9b5a-132548554409.png","assets/images/1585187909595-5fb53263-9973-41c6-a159-703293b91af0.png","assets/images/20200405140043.png","assets/images/20200405211225.png","assets/images/20200405213635.png","assets/images/20200407213951.png","assets/images/20200407214315.png","assets/images/20200407215235.png","assets/images/20200407220047.png","assets/images/20200408093848.png","assets/images/20200409132838.png","assets/images/antd-icon.png","assets/images/coulomb.png","assets/images/gojs-icon.png","assets/images/less-icon.png","assets/images/linear-gradient.png","assets/images/scale.png","assets/images/20200409152743.png","assets/images/DOMTree.png","assets/images/button.png","assets/images/checkbox.png","assets/images/codeReview.png","assets/images/controlGauges.png","assets/images/dataVisualization.png","assets/images/date.png","assets/images/demo.png","assets/images/flowchart.png","assets/images/gantt.png","assets/images/gojs.png","assets/images/input.png","assets/images/label.png","assets/images/logicCircuit.png","assets/images/mindMap.png","assets/images/minimal.png","assets/images/myblog.png","assets/images/radio.png","assets/images/select.png","assets/images/top.png","assets/images/tournament.png","assets/images/treeMapper.png","assets/images/treeView.png","assets/images/upload.png","assets/images/wordcloud.png","assets/images sync /^/.*/.png$","pages/WebIDE/SourceItem.js","pages/WebIDE/Target.js","pages/WebIDE/ItemTypes.js","pages/WebIDE/index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","Item","name","type","isDropped","useDrag","item","collect","monitor","opacity","isDragging","begin","position","getClientOffset","pointer","getInitialClientOffset","location","getInitialSourceClientOffset","placeholder","itemProps","drag","className","ref","style","src","require","alt","index","clickToChange","left","x","top","y","onClick","getItem","Target","accept","droppedItem","onDrop","moveItem","useDrop","drop","undefined","canDrop","length","width","textAlign","fontSize","key","WebIDE","useState","setDroppedItem","currentIndex","setCurrentIndex","indexOf","handleDrop","useCallback","update","$push","DndProvider","backend","Backend","flex","title","bordered","SourceItem","ItemTypes","splice","console","log","defaultValue","onChange","propName","target","value","handleChangeProp","propList"],"mappings":"kFAAAA,EAAOC,QAAU,IAA0B,0C,oBCA3CD,EAAOC,QAAU,IAA0B,gF,oBCA3CD,EAAOC,QAAU,IAA0B,gF,oBCA3CD,EAAOC,QAAU,IAA0B,gF,oBCA3CD,EAAOC,QAAU,IAA0B,gF,oBCA3CD,EAAOC,QAAU,IAA0B,4C,oBCA3CD,EAAOC,QAAU,IAA0B,4C,oBCA3CD,EAAOC,QAAU,IAA0B,4C,oBCA3CD,EAAOC,QAAU,IAA0B,4C,oBCA3CD,EAAOC,QAAU,IAA0B,4C,oBCA3CD,EAAOC,QAAU,IAA0B,4C,oBCA3CD,EAAOC,QAAU,IAA0B,4C,oBCA3CD,EAAOC,QAAU,IAA0B,4C,oBCA3CD,EAAOC,QAAU,IAA0B,4C,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,qC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,6C,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,4C,oBCA3CD,EAAOC,QAAU,IAA0B,qC,oBCA3CD,EAAOC,QAAU,IAA0B,oC,oBCA3CD,EAAOC,QAAU,IAA0B,sC,oBCA3CD,EAAOC,QAAU,IAA0B,wC,oBCA3CD,EAAOC,QAAU,IAA0B,2C,oBCA3CD,EAAOC,QAAU,IAA0B,+C,oBCA3CD,EAAOC,QAAU,IAA0B,kC,oBCA3CD,EAAOC,QAAU,IAA0B,kC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,kC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,0C,oBCA3CD,EAAOC,QAAU,IAA0B,qC,oBCA3CD,EAAOC,QAAU,IAA0B,qC,oBCA3CD,EAAOC,QAAU,IAA0B,oC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,oC,oBCA3CD,EAAOC,QAAU,IAA0B,iC,oBCA3CD,EAAOC,QAAU,IAA0B,wC,oBCA3CD,EAAOC,QAAU,IAA0B,wC,oBCA3CD,EAAOC,QAAU,IAA0B,sC,oBCA3CD,EAAOC,QAAU,IAA0B,oC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,0CCA3C,IAAIC,EAAM,CACT,2DAA4D,IAC5D,2DAA4D,IAC5D,2DAA4D,IAC5D,2DAA4D,IAC5D,uBAAwB,IACxB,uBAAwB,IACxB,uBAAwB,IACxB,uBAAwB,IACxB,uBAAwB,IACxB,uBAAwB,IACxB,uBAAwB,IACxB,uBAAwB,IACxB,uBAAwB,IACxB,uBAAwB,IACxB,gBAAiB,IACjB,kBAAmB,IACnB,eAAgB,IAChB,iBAAkB,IAClB,mBAAoB,IACpB,sBAAuB,IACvB,gBAAiB,IACjB,0BAA2B,IAC3B,aAAc,IACd,aAAc,IACd,kBAAmB,IACnB,qBAAsB,IACtB,cAAe,IACf,kBAAmB,IACnB,aAAc,IACd,cAAe,IACf,cAAe,IACf,kBAAmB,IACnB,wBAAyB,IACzB,qBAAsB,IACtB,gBAAiB,IACjB,gBAAiB,IACjB,eAAgB,IAChB,cAAe,IACf,cAAe,IACf,eAAgB,IAChB,YAAa,IACb,mBAAoB,IACpB,mBAAoB,IACpB,iBAAkB,IAClB,eAAgB,IAChB,kBAAmB,KAIpB,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBN,EAAOC,QAAUE,EACjBA,EAAeE,GAAK,K,iMCjBLU,EA9CF,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,KAAMC,EAAsB,EAAtBA,KAAsB,KAAhBC,UACEC,YAAQ,CAC9BC,KAAM,CAAEH,QACRI,QAAS,SAAAC,GAAO,MAAK,CACjBC,QAASD,EAAQE,aAAe,GAAM,IAE1CC,MAAO,SAAAH,GAAO,MAAK,CACfN,OACAC,OACAS,SAAUJ,EAAQK,kBAClBC,QAASN,EAAQO,yBACjBC,SAAUR,EAAQS,+BAClBC,YAAa,WAZmB,mBACjCC,EADiC,KACtBC,EADsB,KAqCxC,OACI,yBAAKC,UAAU,cAAcC,IAAKF,EAAMG,MAAO,CAAEd,QAASU,EAAUV,UAEhE,yBAAKe,IAAKC,OAAQ,KAAyBvB,EAAO,QAASwB,IAAI,GAAGL,UAAU,eAC3EnB,I,qHClBPD,EAAO,SAAC,GAAoC,IAAlCK,EAAiC,EAAjCA,KAAMqB,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,cACnB1B,EAAyDI,EAAzDJ,KAAMC,EAAmDG,EAAnDH,KAAMS,EAA6CN,EAA7CM,SAAUE,EAAmCR,EAAnCQ,QAASE,EAA0BV,EAA1BU,SAAUE,EAAgBZ,EAAhBY,YAC3CK,EAAQ,CAAEX,SAAU,WAAYiB,KAAMjB,EAASkB,GAAKhB,EAAQgB,EAAId,EAASc,GAAK,IAAKC,IAAKnB,EAASoB,GAAKlB,EAAQkB,EAAIhB,EAASgB,IAFlF,EAG9B3B,YAAQ,CACvBC,KAAM,CAAEH,QACRQ,MAAO,SAAAH,GAAO,MAAK,CACjBmB,QACAzB,OACAC,OACAS,SAAUJ,EAAQK,kBAClBC,QAASN,EAAQO,yBACjBC,SAAUR,EAAQS,+BAClBC,kBATKE,EAHsC,oBAqC/C,OAAO,yBAAKE,IAAKF,EAAMG,MAAOA,EAAOU,QAAS,kBAAML,EAAcD,KAtBlD,SAACzB,GACf,OAAQA,GACN,IAAK,QACH,OAAO,uBAAOgB,YAAaA,IAC7B,IAAK,SACH,OAAO,uCACT,IAAK,QACH,OAAO,4CACT,IAAK,WACH,OAAO,yCACT,IAAK,SACH,OAAO,2BAAQ,wCACjB,IAAK,OACH,OAAO,qCACT,IAAK,SACH,OAAO,uCACT,IAAK,QACH,OAAO,0CACT,QACE,OAAO,MAG8DgB,CAAQhC,KAEtEiC,EA7DA,SAAC,GAA8D,IAA5DC,EAA2D,EAA3DA,OAAQC,EAAmD,EAAnDA,YAAaC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,SAAUX,EAAoB,EAApBA,cAAoB,EAC1DY,YAAQ,CACvBJ,SACAK,KAAM,SAACnC,EAAME,GACX8B,EAAOhC,GACPA,EAAKM,SAAWJ,EAAQK,uBACL6B,IAAfpC,EAAKqB,OACPY,EAASjC,EAAKqB,MAAOrB,IAGzBC,QAAS,SAAAC,GAAO,MAAK,CACnBmC,QAASnC,EAAQmC,cAVZF,EADkE,oBAc3E,OACE,yBAAKpB,UAAU,aAAaC,IAAKmB,GACP,IAAvBJ,EAAYO,QAAgB,yBAAKrB,MAAO,CAAEsB,MAAO,OAAQjC,SAAU,WAAYkC,UAAW,SAAUC,SAAU,KAAlF,0DAC5BV,EAAYjD,KAAI,SAACkB,EAAMqB,GAAP,OAAiB,kBAAC,EAAD,CAAMqB,IAAKrB,EAAOA,MAAOA,EAAOrB,KAAMA,EAAMsB,cAAeA,SCtBpF,EACP,OC4EOqB,UAnEA,WAAO,IAAD,EACqBC,mBAAS,IAD9B,mBACVb,EADU,KACGc,EADH,OAEuBD,qBAFvB,mBAEVE,EAFU,KAEIC,EAFJ,KAIXjD,EAAY,SAAAE,GACd,OAAO+B,EAAYiB,QAAQhD,IAAS,GAElCiD,EAAaC,uBAAY,SAAAlD,GAC3B6C,EAAeM,IAAOpB,EAAa,CAAEqB,MAAO,CAACpD,WAC1BoC,IAAfpC,EAAKqB,OACL0B,EAAgBhB,EAAYO,UAEjC,CAACP,IAqBJ,OACI,uBAAKhB,UAAU,oBACX,kBAACsC,EAAA,EAAD,CAAaC,QAASC,KAClB,uBAAKC,KAAK,QAAQzC,UAAU,gBACxB,uBAAM0C,MAAM,qBAAMC,UAAU,GAlC3B,CAAC,QAAS,SAAU,QAAS,WAAY,SAAU,OAAQ,SAAU,SAmCxD5E,KAAI,SAAAkB,GAAI,OAAI,kBAAC2D,EAAD,CAAYjB,IAAK1C,EAAMJ,KAAMI,EAAMH,KAAM+D,EAAgB9D,UAAWA,EAAUE,UAG5G,uBAAKwD,KAAK,OAAOzC,UAAU,gBACvB,uBAAM0C,MAAM,qBAAMC,UAAU,GACxB,kBAAC,EAAD,CACI5B,OAAQ8B,EACR7B,YAAaA,EACbC,OAAQ,SAAAhC,GAAI,OAAIiD,EAAWjD,IAC3BiC,SAlCN,SAACZ,EAAOrB,GACtB+B,EAAY8B,OAAOxC,EAAO,EAAGrB,GAC7B6C,EAAed,GACfgB,EAAgB1B,IAgCIC,cA9BF,SAAAD,GAClB0B,EAAgB1B,SAkCZ,uBAAKmC,KAAK,QAAQzC,UAAU,eACxB,uBAAM0C,MAAM,2BAAOC,UAAU,GACE,qBAAlBZ,EACL,yEA/BH,SAAA9C,GAAS,IAAD,EACO+B,EAAYe,GAAlClD,EADe,EACfA,KAAMgB,EADS,EACTA,YAEZ,OADAkD,QAAQC,IAAInD,GACL,4BACH,4BAAKhB,GACL,uBAAOoE,aAAcpD,EAAaqD,SAAU,SAAC5E,IAT5B,SAAC6E,EAAU7E,GAChC0C,EAAYe,GAAcoB,GAAY7E,EAAE8E,OAAOC,MAC/CvB,EAAed,GAO0CsC,CAAiB,cAAehF,OA2BvEiF","file":"static/js/73.9c58bcce.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/freecodecamp.06341c0b.png\";","module.exports = __webpack_public_path__ + \"static/media/1585126990498-9287a82e-b7bd-4a6c-85e0-8805577ef2ce.2392a9f8.png\";","module.exports = __webpack_public_path__ + \"static/media/1585146074836-5d244c42-8534-4c61-8bc9-be81702110b7.8dfcc956.png\";","module.exports = __webpack_public_path__ + \"static/media/1585146820036-10d71ce5-2edd-4573-9b5a-132548554409.2de3cf9e.png\";","module.exports = __webpack_public_path__ + \"static/media/1585187909595-5fb53263-9973-41c6-a159-703293b91af0.0cb9a771.png\";","module.exports = __webpack_public_path__ + \"static/media/20200405140043.399b9507.png\";","module.exports = __webpack_public_path__ + \"static/media/20200405211225.7a2ac3b3.png\";","module.exports = __webpack_public_path__ + \"static/media/20200405213635.cedcedda.png\";","module.exports = __webpack_public_path__ + \"static/media/20200407213951.8216bea2.png\";","module.exports = __webpack_public_path__ + \"static/media/20200407214315.94078ee5.png\";","module.exports = __webpack_public_path__ + \"static/media/20200407215235.7e026be3.png\";","module.exports = __webpack_public_path__ + \"static/media/20200407220047.27f6874f.png\";","module.exports = __webpack_public_path__ + \"static/media/20200408093848.910e0817.png\";","module.exports = __webpack_public_path__ + \"static/media/20200409132838.6acc4b29.png\";","module.exports = __webpack_public_path__ + \"static/media/antd-icon.dbdf0eba.png\";","module.exports = __webpack_public_path__ + \"static/media/coulomb.0f1df79f.png\";","module.exports = __webpack_public_path__ + \"static/media/gojs-icon.eb8861a0.png\";","module.exports = __webpack_public_path__ + \"static/media/less-icon.40bd0af0.png\";","module.exports = __webpack_public_path__ + \"static/media/linear-gradient.ce9c290f.png\";","module.exports = __webpack_public_path__ + \"static/media/scale.b3bff2c5.png\";","module.exports = __webpack_public_path__ + \"static/media/20200409152743.41c770aa.png\";","module.exports = __webpack_public_path__ + \"static/media/DOMTree.db076e57.png\";","module.exports = __webpack_public_path__ + \"static/media/button.308d92f7.png\";","module.exports = __webpack_public_path__ + \"static/media/checkbox.cb38ad47.png\";","module.exports = __webpack_public_path__ + \"static/media/codeReview.340901c0.png\";","module.exports = __webpack_public_path__ + \"static/media/controlGauges.6bdc0821.png\";","module.exports = __webpack_public_path__ + \"static/media/dataVisualization.bce4eaf1.png\";","module.exports = __webpack_public_path__ + \"static/media/date.3b4a11c2.png\";","module.exports = __webpack_public_path__ + \"static/media/demo.277c2ff4.png\";","module.exports = __webpack_public_path__ + \"static/media/flowchart.8b445611.png\";","module.exports = __webpack_public_path__ + \"static/media/gantt.207b98e3.png\";","module.exports = __webpack_public_path__ + \"static/media/gojs.47a100d8.png\";","module.exports = __webpack_public_path__ + \"static/media/input.42c153c8.png\";","module.exports = __webpack_public_path__ + \"static/media/label.4eefb343.png\";","module.exports = __webpack_public_path__ + \"static/media/logicCircuit.f8c5198e.png\";","module.exports = __webpack_public_path__ + \"static/media/mindMap.082dcb64.png\";","module.exports = __webpack_public_path__ + \"static/media/minimal.2444846b.png\";","module.exports = __webpack_public_path__ + \"static/media/myblog.d9e3a233.png\";","module.exports = __webpack_public_path__ + \"static/media/radio.4aff27c9.png\";","module.exports = __webpack_public_path__ + \"static/media/select.00715d56.png\";","module.exports = __webpack_public_path__ + \"static/media/top.002a45d6.png\";","module.exports = __webpack_public_path__ + \"static/media/tournament.033b9547.png\";","module.exports = __webpack_public_path__ + \"static/media/treeMapper.cd537a6c.png\";","module.exports = __webpack_public_path__ + \"static/media/treeView.f0146838.png\";","module.exports = __webpack_public_path__ + \"static/media/upload.61749f14.png\";","module.exports = __webpack_public_path__ + \"static/media/wordcloud.5c16e5d0.png\";","var map = {\n\t\"./1585126990498-9287a82e-b7bd-4a6c-85e0-8805577ef2ce.png\": 238,\n\t\"./1585146074836-5d244c42-8534-4c61-8bc9-be81702110b7.png\": 239,\n\t\"./1585146820036-10d71ce5-2edd-4573-9b5a-132548554409.png\": 240,\n\t\"./1585187909595-5fb53263-9973-41c6-a159-703293b91af0.png\": 241,\n\t\"./20200405140043.png\": 242,\n\t\"./20200405211225.png\": 243,\n\t\"./20200405213635.png\": 244,\n\t\"./20200407213951.png\": 245,\n\t\"./20200407214315.png\": 246,\n\t\"./20200407215235.png\": 247,\n\t\"./20200407220047.png\": 248,\n\t\"./20200408093848.png\": 249,\n\t\"./20200409132838.png\": 250,\n\t\"./20200409152743.png\": 304,\n\t\"./DOMTree.png\": 305,\n\t\"./antd-icon.png\": 251,\n\t\"./button.png\": 306,\n\t\"./checkbox.png\": 307,\n\t\"./codeReview.png\": 308,\n\t\"./controlGauges.png\": 309,\n\t\"./coulomb.png\": 252,\n\t\"./dataVisualization.png\": 310,\n\t\"./date.png\": 311,\n\t\"./demo.png\": 312,\n\t\"./flowchart.png\": 313,\n\t\"./freecodecamp.png\": 214,\n\t\"./gantt.png\": 314,\n\t\"./gojs-icon.png\": 253,\n\t\"./gojs.png\": 315,\n\t\"./input.png\": 316,\n\t\"./label.png\": 317,\n\t\"./less-icon.png\": 254,\n\t\"./linear-gradient.png\": 255,\n\t\"./logicCircuit.png\": 318,\n\t\"./mindMap.png\": 319,\n\t\"./minimal.png\": 320,\n\t\"./myblog.png\": 321,\n\t\"./radio.png\": 322,\n\t\"./scale.png\": 256,\n\t\"./select.png\": 323,\n\t\"./top.png\": 324,\n\t\"./tournament.png\": 325,\n\t\"./treeMapper.png\": 326,\n\t\"./treeView.png\": 327,\n\t\"./upload.png\": 328,\n\t\"./wordcloud.png\": 329\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 700;","import React from 'react';\r\nimport { useDrag } from 'react-dnd';\r\n// import { Input, Select, Radio, Checkbox, Upload, DatePicker, Button } from \"antd\";\r\n\r\nconst Item = ({ name, type, isDropped }) => {\r\n    const [itemProps, drag] = useDrag({\r\n        item: { type },\r\n        collect: monitor => ({\r\n            opacity: monitor.isDragging() ? 0.4 : 1,\r\n        }),\r\n        begin: monitor => ({\r\n            name,\r\n            type,\r\n            position: monitor.getClientOffset(),  //鼠标松开时的位置\r\n            pointer: monitor.getInitialClientOffset(),  //鼠标点击时的位置\r\n            location: monitor.getInitialSourceClientOffset(),  //拖动源位置 \r\n            placeholder: \"123\",\r\n        }),\r\n    })\r\n    // const getItem = (name) => {\r\n    //     switch (name) {\r\n    //         case \"input\":\r\n    //             return <Input ></Input>;\r\n    //         case \"select\":\r\n    //             return <Select>\"select\"</Select>;\r\n    //         case \"radio\":\r\n    //             return <Radio>\"radio\"</Radio>;\r\n    //         case \"checkbox\":\r\n    //             return <Checkbox>\"checkbox\"</Checkbox>;\r\n    //         case \"upload\":\r\n    //             return <Upload><Button>\"upload\"</Button></Upload>;\r\n    //         case \"date\":\r\n    //             return <DatePicker>\"date\"</DatePicker>;\r\n    //         case \"button\":\r\n    //             return <Button>\"button\"</Button>;\r\n    //         case \"label\":\r\n    //             return <label>\"label\"</label>;\r\n    //         default:\r\n    //             return null;\r\n    //     }\r\n    // }\r\n    return (\r\n        <div className=\"source-item\" ref={drag} style={{ opacity: itemProps.opacity }}>\r\n            {/* {getItem(name)} */}\r\n            <img src={require(\"../../assets/images/\" + name + \".png\")} alt=\"\" className=\"source-img\" />\r\n            {name}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Item;","import React from 'react';\r\nimport { useDrop, useDrag } from 'react-dnd';\r\nimport { Input, Select, Radio, Checkbox, Upload, DatePicker, Button } from \"antd\";\r\n// import { DraggableContainer, DraggableChild } from 'react-dragline';\r\n\r\nconst Target = ({ accept, droppedItem, onDrop, moveItem, clickToChange }) => {\r\n  const [, drop] = useDrop({\r\n    accept,\r\n    drop: (item, monitor) => {\r\n      onDrop(item);\r\n      item.position = monitor.getClientOffset();\r\n      if (item.index !== undefined) {\r\n        moveItem(item.index, item);\r\n      }\r\n    },\r\n    collect: monitor => ({\r\n      canDrop: monitor.canDrop(),\r\n    }),\r\n  });\r\n  return (\r\n    <div className=\"target-box\" ref={drop} >\r\n      {droppedItem.length === 0 && <div style={{ width: \"100%\", position: \"absolute\", textAlign: \"center\", fontSize: 16 }}>将组件拖拽至此区域</div>}\r\n      {droppedItem.map((item, index) => <Item key={index} index={index} item={item} clickToChange={clickToChange}></Item>)}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Item = ({ item, index, clickToChange }) => {\r\n  const { name, type, position, pointer, location, placeholder } = item;\r\n  const style = { position: \"absolute\", left: position.x - (pointer.x - location.x) - 280, top: position.y - (pointer.y - location.y) };//280是左侧source-panel的宽度\r\n  const [, drag] = useDrag({\r\n    item: { type },\r\n    begin: monitor => ({\r\n      index,\r\n      name,\r\n      type,\r\n      position: monitor.getClientOffset(),  //鼠标松开时的位置\r\n      pointer: monitor.getInitialClientOffset(),  //鼠标点击时的位置\r\n      location: monitor.getInitialSourceClientOffset(),  //拖动源位置 \r\n      placeholder\r\n    }),\r\n  })\r\n  const getItem = (name) => {\r\n    switch (name) {\r\n      case \"input\":\r\n        return <Input placeholder={placeholder}></Input>;\r\n      case \"select\":\r\n        return <Select>\"select\"</Select>;\r\n      case \"radio\":\r\n        return <Radio>\"radio\"</Radio>;\r\n      case \"checkbox\":\r\n        return <Checkbox>\"checkbox\"</Checkbox>;\r\n      case \"upload\":\r\n        return <Upload><Button>\"upload\"</Button></Upload>;\r\n      case \"date\":\r\n        return <DatePicker>\"date\"</DatePicker>;\r\n      case \"button\":\r\n        return <Button>\"button\"</Button>;\r\n      case \"label\":\r\n        return <label>\"label\"</label>;\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n  return <div ref={drag} style={style} onClick={() => clickToChange(index)}>{getItem(name)}</div>\r\n}\r\nexport default Target;","export default {\r\n  ITEM: \"item\"\r\n}\r\n","import React, { useState, useCallback } from 'react';\r\nimport { Row, Col, Card, Input } from \"antd\";\r\nimport update from 'immutability-helper';\r\nimport { DndProvider } from 'react-dnd';\r\nimport Backend from 'react-dnd-html5-backend';\r\nimport \"./index.less\";\r\nimport SourceItem from \"./SourceItem\";\r\nimport Target from \"./Target\";\r\nimport ItemTypes from './ItemTypes';\r\n\r\nconst WebIDE = () => {\r\n    const [droppedItem, setDroppedItem] = useState([]);\r\n    const [currentIndex, setCurrentIndex] = useState();\r\n    const itemList = [\"input\", \"select\", \"radio\", \"checkbox\", \"upload\", \"date\", \"button\", \"label\"];\r\n    const isDropped = item => {\r\n        return droppedItem.indexOf(item) > -1;\r\n    };\r\n    const handleDrop = useCallback(item => {\r\n        setDroppedItem(update(droppedItem, { $push: [item] }));\r\n        if (item.index === undefined) {\r\n            setCurrentIndex(droppedItem.length);\r\n        }\r\n    }, [droppedItem]);\r\n    const moveItem = ((index, item) => {\r\n        droppedItem.splice(index, 1, item);\r\n        setDroppedItem(droppedItem);\r\n        setCurrentIndex(index);\r\n    });\r\n    const clickToChange = index => {\r\n        setCurrentIndex(index);\r\n    }\r\n    const handleChangeProp = (propName, e) => {\r\n        droppedItem[currentIndex][propName] = e.target.value;\r\n        setDroppedItem(droppedItem);\r\n    }\r\n    const propList = item => {\r\n        let { name, placeholder } = droppedItem[currentIndex];\r\n        console.log(placeholder);\r\n        return <ul>\r\n            <li>{name}</li>\r\n            <Input defaultValue={placeholder} onChange={(e) => { handleChangeProp(\"placeholder\", e) }}></Input>\r\n        </ul>\r\n    }\r\n    return (\r\n        <Row className=\"webide-container\">\r\n            <DndProvider backend={Backend}>\r\n                <Col flex=\"280px\" className=\"source-panel\">\r\n                    <Card title=\"控件库\" bordered={false}>\r\n                        {itemList.map(item => <SourceItem key={item} name={item} type={ItemTypes.ITEM} isDropped={isDropped(item)}></SourceItem>)}\r\n                    </Card>\r\n                </Col>\r\n                <Col flex=\"auto\" className=\"target-panel\">\r\n                    <Card title=\"拖放区\" bordered={false}>\r\n                        <Target\r\n                            accept={ItemTypes.ITEM}\r\n                            droppedItem={droppedItem}\r\n                            onDrop={item => handleDrop(item)}\r\n                            moveItem={moveItem}\r\n                            clickToChange={clickToChange}\r\n                        />\r\n                    </Card>\r\n                </Col>\r\n            </DndProvider>\r\n            <Col flex=\"200px\" className=\"props-panel\">\r\n                <Card title=\"控件属性\" bordered={false}>\r\n                    {typeof (currentIndex) === \"undefined\" ?\r\n                        <p>还没有任何控件</p>\r\n                        : propList()\r\n                        // Object.keys(droppedItem[currentIndex]).map((prop, index) =>\r\n                        //     <p key={index}>{prop}：{JSON.stringify(droppedItem[currentIndex][prop])}</p>\r\n                        // )\r\n                    }\r\n                </Card>\r\n            </Col>\r\n        </Row>\r\n    )\r\n}\r\nexport default WebIDE;"],"sourceRoot":""}